# US-13.2 - Help Center & Contextual Assistance

**Epic:** User Education & Documentation  
**Phase:** Phase 13 - User Education  
**Status:** Not Started  
**Priority:** Medium  
**Complexity:** Low  

## User Story

As a **platform user**,  
I want contextual help and quick access to support resources throughout the platform,  
so that I can get answers to my questions without leaving the page I'm working on.

## Acceptance Criteria

### 1. Contextual Help Icons
- [ ] **Help icon (?)** next to complex features/fields
- [ ] Hover to show tooltip with brief explanation
- [ ] Click to open detailed help article in sidebar/modal
- [ ] Examples of where to place:
  - Order types dropdown (explain each type)
  - Stop price field (what is stop price?)
  - Technical indicators (what does RSI mean?)
  - Portfolio metrics (how is P&L calculated?)

### 2. In-App Help Widget
- [ ] Floating help button (bottom-right corner)
- [ ] Click to open help panel with:
  - Search bar
  - Quick links to popular articles
  - FAQ section
  - Contact support button
- [ ] Minimizable/closable
- [ ] Remembers state (open/closed) across sessions

### 3. Page-Specific Help
- [ ] Each major page has a "Help" button in header
- [ ] Opens relevant documentation for that page
- [ ] Examples:
  - Orders page → "How to Place Orders" article
  - Portfolio page → "Understanding Your Portfolio" article
  - Watchlist page → "Managing Watchlists" article

### 4. Onboarding Tooltips (First-Time Users)
- [ ] Show helpful tooltips on first login
- [ ] Guide users through key features:
  - "This is your watchlist"
  - "Click here to place an order"
  - "View your portfolio here"
- [ ] "Don't show again" option
- [ ] Can be re-enabled in settings

### 5. Error Messages with Help Links
- [ ] When errors occur, show helpful error messages
- [ ] Include link to relevant documentation
- [ ] Examples:
  - "Insufficient funds" → Link to "Adding Funds" article
  - "Order rejected" → Link to "Why Orders Get Rejected" article
  - "Invalid stop price" → Link to "Stop Orders Explained" article

### 6. Video Tutorials (Optional Enhancement)
- [ ] Short video tutorials (2-3 minutes each)
- [ ] Embedded in documentation articles
- [ ] Topics:
  - Platform tour
  - Placing your first order
  - Reading stock charts
  - Using technical indicators
- [ ] Hosted on YouTube or Vimeo

## Technical Requirements

### Backend

No new backend required. Reuse:
- `GET /api/docs/:slug` (Documentation API from US-13.1)

### Frontend

#### New Components
- **`HelpIcon.tsx`**: Contextual help icon
  - Tooltip on hover
  - Click to open help modal/sidebar
  
- **`HelpWidget.tsx`**: Floating help button
  - Opens help panel
  - Search, quick links, FAQ
  
- **`HelpPanel.tsx`**: Slide-out help panel
  - Search documentation
  - Popular articles
  - Contact support
  
- **`OnboardingTooltip.tsx`**: First-time user tooltips
  - Positioned tooltips
  - Step-through guide
  - Skip/Next buttons
  
- **`ErrorWithHelp.tsx`**: Error message with help link
  - Error text
  - "Learn more" link to docs

#### New Hooks
- **`useOnboarding.ts`**: Track onboarding state
  - Check if first-time user
  - Mark tooltips as seen
  - Store in localStorage
  
- **`useContextualHelp.ts`**: Manage help state
  - Open/close help panel
  - Track help interactions

#### Integration Points
- Add `<HelpIcon />` to complex form fields
- Add `<HelpWidget />` to global layout
- Add page-specific help buttons to page headers
- Wrap error messages with `<ErrorWithHelp />`

## Dependencies

- US-13.1: Comprehensive Feature Documentation (help content source)

## Implementation Notes

### Help Icon Placement Strategy
```tsx
// Example: Order form
<FormField label="Order Type">
  <Select>
    <option value="MARKET">Market</option>
    <option value="LIMIT">Limit</option>
    <option value="STOP">Stop</option>
  </Select>
  <HelpIcon docSlug="order-types-explained" />
</FormField>
```

### Onboarding Flow
```typescript
const onboardingSteps = [
  {
    target: '#watchlist',
    content: 'This is your watchlist. Add stocks to track their prices.',
    position: 'right'
  },
  {
    target: '#trade-button',
    content: 'Click here to place an order.',
    position: 'bottom'
  },
  {
    target: '#portfolio',
    content: 'View your holdings and P&L here.',
    position: 'right'
  }
];
```

### Error Message Enhancement
```typescript
// Before
throw new Error("Insufficient funds");

// After
throw new AppError({
  message: "Insufficient funds to place this order",
  helpLink: "/docs/adding-funds",
  helpText: "Learn how to add funds to your account"
});
```

### Help Widget State
```typescript
interface HelpWidgetState {
  isOpen: boolean;
  currentArticle: string | null;
  searchQuery: string;
}

// Persist in localStorage
localStorage.setItem('helpWidgetState', JSON.stringify(state));
```

## Testing Requirements

### Unit Tests
- [ ] Test help icon click opens correct article
- [ ] Test onboarding tooltip sequence
- [ ] Test help widget open/close

### Integration Tests
- [ ] Test contextual help integration with forms
- [ ] Test error messages show correct help links

### E2E Scenarios
- [ ] First-time user sees onboarding tooltips
- [ ] User clicks help icon and reads article
- [ ] User opens help widget and searches
- [ ] User encounters error and clicks help link

### Usability Testing
- [ ] Verify help icons are discoverable
- [ ] Verify tooltips are helpful and concise
- [ ] Verify onboarding doesn't overwhelm users

## Audit Trail

| Date | Author | Change |
|------|--------|--------|
| 2026-01-18 | AI Assistant | Initial creation of US-13.2 |
| 2026-01-18 | AI Assistant | Redesigned to focus on contextual help and in-app assistance instead of interactive simulator |
